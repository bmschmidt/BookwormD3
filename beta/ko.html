    <!DOCTYPE html>
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Advanced Bookworm Browser</title>
    <script type="text/javascript" src="../d3.v2.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>

    <link type="text/css" rel="stylesheet" href="../lib/colorbrewer/colorbrewer.css"/>

    <script type="text/javascript" src="searchWindow.js"></script>
    <script type="text/javascript" src="chartTypes/newmapchart.js"></script>
    <script type="text/javascript" src="chartTypes/heatMap.js"></script>
    <script type="text/javascript" src="legends.js"></script>
    <script type="text/javascript" src="../knockout-2.2.1.js"></script>
    <script type="text/javascript" src="../knockout.mapping-latest.js"></script>

</head>

    <body>
    <div id="chart"></div>

    <link type="text/css" rel="stylesheet" href="bookworm.css"/>

    <script type="text/javascript">


//There should always be a query variable present: from that, it should be possible to derive anything else we'll ever need, and any changes can update it directly.

//Using knockout to keep the query data distinct



var myViewModel = {
    query:ko.observable({"hi":"there","search_limits":{"word":["yes"]}}),
//    queryJSON:function(string) {
//	if (string==null) {return(JSON.stringify(myViewModel.query()))}
//	else {myViewModel.query(JSON.parse(string))}
//    },
//    word:function(word) {
//	if (word==null) {return(myViewModel.query['search_limits']['word'][0])()}
//	else {myViewModel.query(['search_limits']['word'][0](word))}
//    },
    test:ko.observable("hi")
}

ko.applyBindings(myViewModel)

console.log(myViewModel.query())

var APIbox = d3.selectAll('div')
    .append('input')
    .attr('type', String) // implicit function(d, i) { return ''+d; }
    .attr('name', 'lone-ranger')
    .attr('style', 'width: 1400px;')

    .attr("data-bind","value: query")

var wordBox= d3.selectAll('div')
    .append('input')
    .attr('type', String)
    .attr('name', 'wordInput')
    .attr('style', 'width: 350px;')
    .attr("data-bind","value: test,valueUpdate: afterkeydown")
</script>
    </body>
    </html>



